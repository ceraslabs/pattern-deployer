{
  "apiVersion": "0.2",
  "apis": [
    {
      "description": "Show a list of credentials",
      "operations": [
        {
          "deprecated": false,
          "errorResponses": [
            {
              "code": 401,
              "reason": "user haven't logined"
            },
            {
              "code": 403,
              "reason": "user doesnot have permission for this operation"
            },
            {
              "code": 500,
              "reason": "some weird error occurs, possibly due to bug(s)"
            }
          ],
          "httpMethod": "GET",
          "nickname": "getCredentials",
          "responseClass": "Credentials",
          "summary": "Show a list of credentials"
        }
      ],
      "path": "/credentials"
    },
    {
      "description": "Create a new credential",
      "operations": [
        {
          "deprecated": false,
          "errorResponses": [
            {
              "code": 400,
              "reason": "user provided invalid parameter(s)"
            },
            {
              "code": 401,
              "reason": "user haven't logined"
            },
            {
              "code": 403,
              "reason": "user doesnot have permission for this operation"
            },
            {
              "code": 500,
              "reason": "some weird error occurs, possibly due to bug(s)"
            }
          ],
          "httpMethod": "POST",
          "nickname": "createCredential",
          "notes": "The created credential will be used to authenticate user against the cloud when deploying a topology. User need to provide a name for the created credential and indicate which cloud this credential belongs to. Depending on different cloud provider, user need to fill the corresponse parameter(s) to define the credential",
          "parameters": [
            {
              "allowMultiple": false,
              "dataType": "string",
              "description": "The unique name of the credential.",
              "name": "name",
              "paramType": "query",
              "required": true
            },
            {
              "allowMultiple": false,
              "allowableValues": {
                "valueType": "LIST",
                "values": [
                  "ec2",
                  "openstack"
                ]
              },
              "dataType": "string",
              "description": "The cloud that the created credential belongs to",
              "name": "for_cloud",
              "paramType": "query",
              "required": true
            },
            {
              "allowMultiple": false,
              "dataType": "string",
              "description": "Your Amazon Web Services access key ID. Required if the cloud is 'ec2'",
              "name": "access_key_id",
              "paramType": "query",
              "required": false
            },
            {
              "allowMultiple": false,
              "dataType": "string",
              "description": "Your Amazon Web Services secret access key. Required if the cloud is 'ec2'",
              "name": "secret_access_key",
              "paramType": "query",
              "required": false
            },
            {
              "allowMultiple": false,
              "dataType": "string",
              "description": "Your OpenStack username. Required if the cloud is 'openstack'",
              "name": "username",
              "paramType": "query",
              "required": false
            },
            {
              "allowMultiple": false,
              "dataType": "string",
              "description": "Your OpenStack password. Required if the cloud is 'openstack'",
              "name": "password",
              "paramType": "query",
              "required": false
            },
            {
              "allowMultiple": false,
              "dataType": "string",
              "description": "Your OpenStack tenant. Required if the cloud is 'openstack'",
              "name": "tenant",
              "paramType": "query",
              "required": false
            },
            {
              "allowMultiple": false,
              "dataType": "string",
              "description": "Your OpenStack API endpoint. Required if the cloud is 'openstack'",
              "name": "endpoint",
              "paramType": "query",
              "required": false
            }
          ],
          "responseClass": "Credential",
          "summary": "Create a new credential"
        }
      ],
      "path": "/credentials"
    },
    {
      "description": "Get the credential definition with id",
      "operations": [
        {
          "deprecated": false,
          "errorResponses": [
            {
              "code": 400,
              "reason": "user provided invalid parameter(s)"
            },
            {
              "code": 401,
              "reason": "user haven't logined"
            },
            {
              "code": 403,
              "reason": "user doesnot have permission for this operation"
            },
            {
              "code": 500,
              "reason": "some weird error occurs, possibly due to bug(s)"
            }
          ],
          "httpMethod": "GET",
          "nickname": "getCredentialById",
          "parameters": [
            {
              "allowMultiple": false,
              "dataType": "int",
              "description": "The unique id of credential",
              "name": "id",
              "paramType": "path",
              "required": true
            }
          ],
          "responseClass": "Credential",
          "summary": "Get the credential definition with id"
        }
      ],
      "path": "/credentials/{id}"
    },
    {
      "description": "Delete the credential definition by id",
      "operations": [
        {
          "deprecated": false,
          "errorResponses": [
            {
              "code": 400,
              "reason": "user provided invalid parameter(s)"
            },
            {
              "code": 401,
              "reason": "user haven't logined"
            },
            {
              "code": 403,
              "reason": "user doesnot have permission for this operation"
            },
            {
              "code": 500,
              "reason": "some weird error occurs, possibly due to bug(s)"
            }
          ],
          "httpMethod": "DELETE",
          "nickname": "deleteCredentialById",
          "parameters": [
            {
              "allowMultiple": false,
              "dataType": "int",
              "description": "The unique id of credential",
              "name": "id",
              "paramType": "path",
              "required": true
            }
          ],
          "responseClass": "Credentials",
          "summary": "Delete the credential definition by id"
        }
      ],
      "path": "/credentials/{id}"
    },
    {
      "description": "Modify the credential.",
      "operations": [
        {
          "deprecated": false,
          "errorResponses": [
            {
              "code": 400,
              "reason": "user provided invalid parameter(s)"
            },
            {
              "code": 401,
              "reason": "user haven't logined"
            },
            {
              "code": 403,
              "reason": "user doesnot have permission for this operation"
            },
            {
              "code": 500,
              "reason": "some weird error occurs, possibly due to bug(s)"
            }
          ],
          "httpMethod": "PUT",
          "nickname": "modifyCredentialById",
          "notes": "Two operation available: 'rename' and 'redefine'. Operation 'redefine' can be used to change the attribute/key/password of existing credential.",
          "parameters": [
            {
              "allowMultiple": false,
              "dataType": "int",
              "description": "The unique id of credential",
              "name": "id",
              "paramType": "path",
              "required": true
            },
            {
              "allowMultiple": false,
              "allowableValues": {
                "valueType": "LIST",
                "values": [
                  "redefine",
                  "rename"
                ]
              },
              "dataType": "string",
              "description": "The operation to execut",
              "name": "operation",
              "paramType": "query",
              "required": true
            },
            {
              "allowMultiple": false,
              "dataType": "string",
              "description": "The new name of the credential. Used in 'rename' operation",
              "name": "name",
              "paramType": "query",
              "required": true
            },
            {
              "allowMultiple": false,
              "dataType": "string",
              "description": "Your new Amazon Web Services access key ID. Used in 'redefine' operation",
              "name": "access_key_id",
              "paramType": "query",
              "required": false
            },
            {
              "allowMultiple": false,
              "dataType": "string",
              "description": "Your new Amazon Web Services secret access key. Used in 'redefine' operation",
              "name": "secret_access_key",
              "paramType": "query",
              "required": false
            },
            {
              "allowMultiple": false,
              "dataType": "string",
              "description": "Your new OpenStack username. Used in 'redefine' operation",
              "name": "username",
              "paramType": "query",
              "required": false
            },
            {
              "allowMultiple": false,
              "dataType": "string",
              "description": "Your new OpenStack password. Used in 'redefine' operation",
              "name": "password",
              "paramType": "query",
              "required": false
            },
            {
              "allowMultiple": false,
              "dataType": "string",
              "description": "Your new OpenStack tenant. Used in 'redefine' operation",
              "name": "tenant",
              "paramType": "query",
              "required": false
            },
            {
              "allowMultiple": false,
              "dataType": "string",
              "description": "Your new OpenStack API endpoint. Used in 'redefine' operation",
              "name": "endpoint",
              "paramType": "query",
              "required": false
            }
          ],
          "responseClass": "Credential",
          "summary": "Modify the credential."
        }
      ],
      "path": "/credentials/{id}"
    }
  ],
  "basePath": "<%= request.protocol + request.host_with_port %>/api",
  "models": {
    "Credential": {
      "id": "Credential",
      "properties": {
        "awsAccessKeyId": {
          "description": "The EC2 access key id",
          "type": "string"
        },
        "forCloud": {
          "allowableValues": {
            "valueType": "LIST",
            "values": [
              "ec2",
              "openstack"
            ]
          },
          "description": "The cloud that the credential is for",
          "type": "string"
        },
        "id": {
          "description": "The id of the credential",
          "type": "int"
        },
        "link": {
          "description": "The link of the credential",
          "type": "string"
        },
        "name": {
          "description": "The name of the credential",
          "type": "string"
        },
        "openstackEndpoint": {
          "description": "The OpenStack endpoint",
          "type": "string"
        },
        "openstackTenant": {
          "description": "The OpenStack tenant",
          "type": "string"
        },
        "openstackUsername": {
          "description": "The OpenStack username",
          "type": "string"
        }
      }
    },
    "Credentials": {
      "id": "Credentials",
      "properties": {
        "all": {
          "description": "The information of the credentials",
          "items": {
            "$ref": "Credential"
          },
          "type": "List"
        }
      }
    }
  },
  "resourcePath": "/credentials",
  "swaggerVersion": "1.1"
}