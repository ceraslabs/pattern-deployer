{
  "apiVersion": "1.1",
  "apis": [
    {
      "description": "Show a list of uploaded files",
      "operations": [
        {
          "deprecated": false,
          "errorResponses": [
            {
              "code": 401,
              "reason": "user haven't logined"
            },
            {
              "code": 403,
              "reason": "user doesnot have permission for this operation"
            },
            {
              "code": 500,
              "reason": "some weird error occurs, possibly due to bug(s)"
            }
          ],
          "httpMethod": "GET",
          "nickname": "get_list_of_files",
          "summary": "Show a list of uploaded files"
        }
      ],
      "path": "/api/uploaded_files"
    },
    {
      "description": "Upload a file",
      "operations": [
        {
          "deprecated": false,
          "errorResponses": [
            {
              "code": 400,
              "reason": "user provided invalid parameter(s)"
            },
            {
              "code": 401,
              "reason": "user haven't logined"
            },
            {
              "code": 403,
              "reason": "user doesnot have permission for this operation"
            },
            {
              "code": 500,
              "reason": "some weird error occurs, possibly due to bug(s)"
            }
          ],
          "httpMethod": "POST",
          "nickname": "create_file",
          "notes": "User need to provide a name for the created file. Depending on file type, user may need to fill additional parameter(s)<h4>File types</h4><table><thead><tr><th>type</th><th>description</th></tr></thead><tr><td>war_file</td><td>Java application archive. An war file should have suffix '.war'</td></tr><tr><td>identity_file</td><td>Identity file contains private key that is used to ssh to the deployed instance. An identity file should match a keypair of the cloud and should have an suffix '.pem'</td></tr><tr><td>sql_script_file</td><td>An sql script file which is used to setup the schema/tables of database</td></tr></table>",
          "parameters": [
            {
              "allowMultiple": false,
              "dataType": "file",
              "description": "The uploaded file",
              "name": "file",
              "paramType": "body",
              "required": true
            },
            {
              "allowMultiple": false,
              "allowableValues": {
                "valueType": "LIST",
                "values": [
                  "war_file",
                  "identity_file",
                  "sql_script_file"
                ]
              },
              "dataType": "string",
              "description": "The type of the uploaded file",
              "name": "file_type",
              "paramType": "query",
              "required": true
            },
            {
              "allowMultiple": false,
              "dataType": "string",
              "description": "The name of the uploaded file. Use this parameter if user want a name different from the orignal file name.",
              "name": "file_name",
              "paramType": "query",
              "required": false
            },
            {
              "allowMultiple": false,
              "dataType": "string",
              "description": "The key pair id of the identify file",
              "name": "key_pair_id",
              "paramType": "query",
              "required": false
            },
            {
              "allowMultiple": false,
              "allowableValues": {
                "valueType": "LIST",
                "values": [
                  "ec2",
                  "openstack"
                ]
              },
              "dataType": "string",
              "description": "The cloud where this key pair belongs to",
              "name": "for_cloud",
              "paramType": "query",
              "required": false
            }
          ],
          "summary": "Upload a file"
        }
      ],
      "path": "/api/uploaded_files"
    },
    {
      "description": "Delete the uploaded file by id",
      "operations": [
        {
          "deprecated": false,
          "errorResponses": [
            {
              "code": 400,
              "reason": "user provided invalid parameter(s)"
            },
            {
              "code": 401,
              "reason": "user haven't logined"
            },
            {
              "code": 403,
              "reason": "user doesnot have permission for this operation"
            },
            {
              "code": 500,
              "reason": "some weird error occurs, possibly due to bug(s)"
            }
          ],
          "httpMethod": "GET",
          "nickname": "get_file_by_id",
          "parameters": [
            {
              "allowMultiple": false,
              "dataType": "integer",
              "description": "The unique id of the uploaded file",
              "name": "id",
              "paramType": "path",
              "required": true
            }
          ],
          "summary": "Delete the uploaded file by id"
        }
      ],
      "path": "/api/uploaded_files/{id}"
    },
    {
      "description": "Delete the uploaded file by id",
      "operations": [
        {
          "deprecated": false,
          "errorResponses": [
            {
              "code": 400,
              "reason": "user provided invalid parameter(s)"
            },
            {
              "code": 401,
              "reason": "user haven't logined"
            },
            {
              "code": 403,
              "reason": "user doesnot have permission for this operation"
            },
            {
              "code": 500,
              "reason": "some weird error occurs, possibly due to bug(s)"
            }
          ],
          "httpMethod": "DELETE",
          "nickname": "delete_file_by_id",
          "parameters": [
            {
              "allowMultiple": false,
              "dataType": "integer",
              "description": "The unique id of uploaded file",
              "name": "id",
              "paramType": "path",
              "required": true
            }
          ],
          "summary": "Delete the uploaded file by id"
        }
      ],
      "path": "/api/uploaded_files/{id}"
    },
    {
      "description": "Modify the uploaded file by id",
      "operations": [
        {
          "deprecated": false,
          "errorResponses": [
            {
              "code": 400,
              "reason": "user provided invalid parameter(s)"
            },
            {
              "code": 401,
              "reason": "user haven't logined"
            },
            {
              "code": 403,
              "reason": "user doesnot have permission for this operation"
            },
            {
              "code": 500,
              "reason": "some weird error occurs, possibly due to bug(s)"
            }
          ],
          "httpMethod": "PUT",
          "nickname": "modify_file_by_id",
          "parameters": [
            {
              "allowMultiple": false,
              "dataType": "integer",
              "description": "The unique id of uploaded file",
              "name": "id",
              "paramType": "path",
              "required": true
            },
            {
              "allowMultiple": false,
              "allowableValues": {
                "valueType": "LIST",
                "values": [
                  "rename",
                  "reupload"
                ]
              },
              "dataType": "string",
              "description": "The operation to execute",
              "name": "operation",
              "paramType": "query",
              "required": true
            },
            {
              "allowMultiple": false,
              "dataType": "file",
              "description": "The new file. Used with 'reupload' operation",
              "name": "file",
              "paramType": "body",
              "required": false
            },
            {
              "allowMultiple": false,
              "dataType": "string",
              "description": "The new file name. Used with 'rename' operation",
              "name": "file_name",
              "paramType": "query",
              "required": false
            }
          ],
          "summary": "Modify the uploaded file by id"
        }
      ],
      "path": "/api/uploaded_files/{id}"
    }
  ],
  "basePath": "<%= request.protocol + request.host_with_port %>",
  "swagrVersion": "0.2"
}